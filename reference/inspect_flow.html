<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>inspect_flow – Inspect Flow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../reference/inspect_flow.qmd#flowagent" rel="next">
<link href="../reference/index.html" rel="prev">
<link href="../images/icon-dark.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-788bc0b29e91bf580540fd01d9d6612c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Inspect Flow">
<meta property="og:description" content="Workflow orchestration for Inspect AI">
<meta property="og:site_name" content="Inspect Flow">
<meta name="twitter:title" content="Inspect Flow">
<meta name="twitter:description" content="Workflow orchestration for Inspect AI">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/icon-dark.svg" alt="" class="navbar-logo light-content">
    <img src="../images/icon-dark.svg" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Inspect Flow</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Welcome</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../reference/index.html" aria-current="page"> 
<span class="menu-text">Reference</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/inspect_flow"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../reference/inspect_flow.html">Python API</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../reference/inspect_flow.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Python API</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../reference/inspect_flow.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">inspect_flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowagent" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowAgent</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowdefaults" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowDefaults</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowdependencies" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowDependencies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowepochs" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowEpochs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowspec" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowSpec</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowmodel" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowModel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowoptions" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowOptions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowscorer" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowScorer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowsolver" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowSolver</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#flowtask" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FlowTask</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#after_load" class="sidebar-item-text sidebar-link">
 <span class="menu-text">after_load</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#agents_matrix" class="sidebar-item-text sidebar-link">
 <span class="menu-text">agents_matrix</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#agents_with" class="sidebar-item-text sidebar-link">
 <span class="menu-text">agents_with</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#configs_matrix" class="sidebar-item-text sidebar-link">
 <span class="menu-text">configs_matrix</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#configs_with" class="sidebar-item-text sidebar-link">
 <span class="menu-text">configs_with</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#merge" class="sidebar-item-text sidebar-link">
 <span class="menu-text">merge</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#models_matrix" class="sidebar-item-text sidebar-link">
 <span class="menu-text">models_matrix</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#models_with" class="sidebar-item-text sidebar-link">
 <span class="menu-text">models_with</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#solvers_matrix" class="sidebar-item-text sidebar-link">
 <span class="menu-text">solvers_matrix</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#solvers_with" class="sidebar-item-text sidebar-link">
 <span class="menu-text">solvers_with</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#tasks_matrix" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tasks_matrix</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.html#tasks_with" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tasks_with</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../reference/inspect_flow.api.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">inspect_flow.api</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.api.html#config" class="sidebar-item-text sidebar-link">
 <span class="menu-text">config</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.api.html#load_spec" class="sidebar-item-text sidebar-link">
 <span class="menu-text">load_spec</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/inspect_flow.api.html#run" class="sidebar-item-text sidebar-link">
 <span class="menu-text">run</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../reference/flow_config.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inspect CLI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/flow_config.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">flow config</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference/flow_run.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">flow run</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#types" id="toc-types" class="nav-link active" data-scroll-target="#types">Types</a>
  <ul class="collapse">
  <li><a href="#flowagent" id="toc-flowagent" class="nav-link" data-scroll-target="#flowagent">FlowAgent</a></li>
  <li><a href="#flowdefaults" id="toc-flowdefaults" class="nav-link" data-scroll-target="#flowdefaults">FlowDefaults</a></li>
  <li><a href="#flowdependencies" id="toc-flowdependencies" class="nav-link" data-scroll-target="#flowdependencies">FlowDependencies</a></li>
  <li><a href="#flowepochs" id="toc-flowepochs" class="nav-link" data-scroll-target="#flowepochs">FlowEpochs</a></li>
  <li><a href="#flowspec" id="toc-flowspec" class="nav-link" data-scroll-target="#flowspec">FlowSpec</a></li>
  <li><a href="#flowmodel" id="toc-flowmodel" class="nav-link" data-scroll-target="#flowmodel">FlowModel</a></li>
  <li><a href="#flowoptions" id="toc-flowoptions" class="nav-link" data-scroll-target="#flowoptions">FlowOptions</a></li>
  <li><a href="#flowscorer" id="toc-flowscorer" class="nav-link" data-scroll-target="#flowscorer">FlowScorer</a></li>
  <li><a href="#flowsolver" id="toc-flowsolver" class="nav-link" data-scroll-target="#flowsolver">FlowSolver</a></li>
  <li><a href="#flowtask" id="toc-flowtask" class="nav-link" data-scroll-target="#flowtask">FlowTask</a></li>
  </ul></li>
  <li><a href="#decorators" id="toc-decorators" class="nav-link" data-scroll-target="#decorators">Decorators</a>
  <ul class="collapse">
  <li><a href="#after_load" id="toc-after_load" class="nav-link" data-scroll-target="#after_load">after_load</a></li>
  </ul></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a>
  <ul class="collapse">
  <li><a href="#agents_matrix" id="toc-agents_matrix" class="nav-link" data-scroll-target="#agents_matrix">agents_matrix</a></li>
  <li><a href="#agents_with" id="toc-agents_with" class="nav-link" data-scroll-target="#agents_with">agents_with</a></li>
  <li><a href="#configs_matrix" id="toc-configs_matrix" class="nav-link" data-scroll-target="#configs_matrix">configs_matrix</a></li>
  <li><a href="#configs_with" id="toc-configs_with" class="nav-link" data-scroll-target="#configs_with">configs_with</a></li>
  <li><a href="#merge" id="toc-merge" class="nav-link" data-scroll-target="#merge">merge</a></li>
  <li><a href="#models_matrix" id="toc-models_matrix" class="nav-link" data-scroll-target="#models_matrix">models_matrix</a></li>
  <li><a href="#models_with" id="toc-models_with" class="nav-link" data-scroll-target="#models_with">models_with</a></li>
  <li><a href="#solvers_matrix" id="toc-solvers_matrix" class="nav-link" data-scroll-target="#solvers_matrix">solvers_matrix</a></li>
  <li><a href="#solvers_with" id="toc-solvers_with" class="nav-link" data-scroll-target="#solvers_with">solvers_with</a></li>
  <li><a href="#tasks_matrix" id="toc-tasks_matrix" class="nav-link" data-scroll-target="#tasks_matrix">tasks_matrix</a></li>
  <li><a href="#tasks_with" id="toc-tasks_with" class="nav-link" data-scroll-target="#tasks_with">tasks_with</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/meridianlabs-ai/inspect_flow/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">inspect_flow</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="types" class="level2">
<h2 class="anchored" data-anchor-id="types">Types</h2>
<section id="flowagent" class="level3">
<h3 class="anchored" data-anchor-id="flowagent">FlowAgent</h3>
<p>Configuration for an Agent.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L134">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowAgent(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Name of the agent. Required to be set by the time the agent is created.</p>
</dd>
<dt><code class="ref-definition">args</code> <span class="element-type"><span class="element-type-name">CreateArgs</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional args to pass to agent constructor.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the agent.</p>
</dd>
<dt><code class="ref-definition">type</code> <span class="element-type"><span class="element-type-name">Literal</span>['agent'] | <span class="element-type-name">None</span></span></dt>
<dd>
<p>Type needed to differentiated solvers and agents in solver lists.</p>
</dd>
</dl>
</section>
</section>
<section id="flowdefaults" class="level3">
<h3 class="anchored" data-anchor-id="flowdefaults">FlowDefaults</h3>
<p>Default field values for Inspect objects. Will be overriden by more specific settings.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L472">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowDefaults(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">config</code> <span class="element-type"><span class="element-type-name">GenerateConfig</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Default model generation options. Will be overriden by settings on the FlowModel and FlowTask.</p>
</dd>
<dt><code class="ref-definition">agent</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Field defaults for agents.</p>
</dd>
<dt><code class="ref-definition">agent_prefix</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Agent defaults for agent name prefixes. E.g. {‘inspect/’: FAgent(…)}</p>
</dd>
<dt><code class="ref-definition">model</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Field defaults for models.</p>
</dd>
<dt><code class="ref-definition">model_prefix</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Model defaults for model name prefixes. E.g. {‘openai/’: FModel(…)}</p>
</dd>
<dt><code class="ref-definition">solver</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Field defaults for solvers.</p>
</dd>
<dt><code class="ref-definition">solver_prefix</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Solver defaults for solver name prefixes. E.g. {‘inspect/’: FSolver(…)}</p>
</dd>
<dt><code class="ref-definition">task</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Field defaults for tasks.</p>
</dd>
<dt><code class="ref-definition">task_prefix</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Task defaults for task name prefixes. E.g. {‘inspect_evals/’: FTask(…)}</p>
</dd>
</dl>
</section>
</section>
<section id="flowdependencies" class="level3">
<h3 class="anchored" data-anchor-id="flowdependencies">FlowDependencies</h3>
<p>Configuration for flow dependencies to install in the venv.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L517">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowDependencies(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">dependency_file</code> <span class="element-type"><span class="element-type-name">Literal</span>['auto', 'no_file'] | <span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Path to a dependency file (either requirements.txt or pyproject.toml) to use to create the virtual environment. If ‘auto’, will search the path starting from the same directory as the config file (when using the CLI) or base_dir arg (when using the API) looking for pyproject.toml or requirements.txt files. If ‘no_file’, no dependency file will be used. Defaults to ‘auto’.</p>
</dd>
<dt><code class="ref-definition">additional_dependencies</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Dependencies to pip install. E.g. PyPI package specifiers or Git repository URLs.</p>
</dd>
<dt><code class="ref-definition">auto_detect_dependencies</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>If True, automatically detect and install dependencies from names of objects in the config (defaults to True). For example, if a model name starts with ‘openai/’, the ‘openai’ package will be installed. If a task name is ‘inspect_evals/mmlu’ then the ‘inspect-evals’ package will be installed.</p>
</dd>
</dl>
</section>
</section>
<section id="flowepochs" class="level3">
<h3 class="anchored" data-anchor-id="flowepochs">FlowEpochs</h3>
<p>Configuration for task epochs.</p>
<p>Number of epochs to repeat samples over and optionally one or more reducers used to combine scores from samples across epochs. If not specified the “mean” score reducer is used.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L163">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowEpochs(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">epochs</code> <span class="element-type"><span class="element-type-name">int</span></span></dt>
<dd>
<p>Number of epochs.</p>
</dd>
<dt><code class="ref-definition">reducer</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>One or more reducers used to combine scores from samples across epochs (defaults to “mean”)</p>
</dd>
</dl>
</section>
</section>
<section id="flowspec" class="level3">
<h3 class="anchored" data-anchor-id="flowspec">FlowSpec</h3>
<p>Top-level flow specification.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L536">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowSpec(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">includes</code> <span class="element-type"><span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>List of other flow configs to include. Relative paths will be resolved relative to the config file (when using the CLI) or base_dir arg (when using the API). In addition to this list of explicit files to include, any _flow.py files in the same directory or any parent directory of the config file (when using the CLI) or base_dir arg (when using the API) will also be included automatically.</p>
</dd>
<dt><code class="ref-definition">log_dir</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Output path for logging results (required to ensure that a unique storage scope is assigned). Must be set before running the flow spec. Relative paths will be resolved relative to the config file (when using the CLI) or base_dir arg (when using the API).</p>
</dd>
<dt><code class="ref-definition">log_dir_create_unique</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>If True, create a new log directory by appending an _ and numeric suffix if the specified log_dir already exists. If the directory exists and has a _numeric suffix, that suffix will be incremented. If False, use the existing log_dir (which must be empty or have log_dir_allow_dirty=True). Defaults to False.</p>
</dd>
<dt><code class="ref-definition">python_version</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Python version to use in the flow virtual environment (e.g.&nbsp;‘3.11’)</p>
</dd>
<dt><code class="ref-definition">options</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowoptions">FlowOptions</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Arguments for calls to eval_set.</p>
</dd>
<dt><code class="ref-definition">dependencies</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowdependencies">FlowDependencies</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Dependencies to install in the venv. Defaults to auto-detecting dependencies from pyproject.toml, requirements.txt, and object names in the config.</p>
</dd>
<dt><code class="ref-definition">env</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Environment variables to set when running tasks.</p>
</dd>
<dt><code class="ref-definition">defaults</code> <span class="element-type"><span class="element-type-name"><a href="../reference/inspect_flow.html#flowdefaults">FlowDefaults</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Defaults values for Inspect objects.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the model.</p>
</dd>
<dt><code class="ref-definition">tasks</code> <span class="element-type"><span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Tasks to run</p>
</dd>
</dl>
</section>
</section>
<section id="flowmodel" class="level3">
<h3 class="anchored" data-anchor-id="flowmodel">FlowModel</h3>
<p>Configuration for a Model.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L48">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowModel(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Name of the model to use. Required to be set by the time the model is created.</p>
</dd>
<dt><code class="ref-definition">role</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional named role for model (e.g.&nbsp;for roles specified at the task or eval level). Provide a default as a fallback in the case where the role hasn’t been externally specified.</p>
</dd>
<dt><code class="ref-definition">default</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Fallback model in case the specified model or role is not found. Should be a fully qualified model name (e.g.&nbsp;openai/gpt-4o).</p>
</dd>
<dt><code class="ref-definition">config</code> <span class="element-type"><span class="element-type-name">GenerateConfig</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Configuration for model. Config values will be override settings on the FlowTask and FlowSpec.</p>
</dd>
<dt><code class="ref-definition">base_url</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Alternate base URL for model.</p>
</dd>
<dt><code class="ref-definition">api_key</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. API key for model.</p>
</dd>
<dt><code class="ref-definition">memoize</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Use/store a cached version of the model based on the parameters to get_model(). Defaults to True.</p>
</dd>
<dt><code class="ref-definition">model_args</code> <span class="element-type"><span class="element-type-name">CreateArgs</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional args to pass to model constructor.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the model.</p>
</dd>
</dl>
</section>
</section>
<section id="flowoptions" class="level3">
<h3 class="anchored" data-anchor-id="flowoptions">FlowOptions</h3>
<p>Evaluation options.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L297">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowOptions(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">retry_attempts</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Maximum number of retry attempts before giving up (defaults to 10).</p>
</dd>
<dt><code class="ref-definition">retry_wait</code> <span class="element-type"><span class="element-type-name">float</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Time to wait between attempts, increased exponentially (defaults to 30, resulting in waits of 30, 60, 120, 240, etc.). Wait time per-retry will in no case be longer than 1 hour.</p>
</dd>
<dt><code class="ref-definition">retry_connections</code> <span class="element-type"><span class="element-type-name">float</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Reduce max_connections at this rate with each retry (defaults to 1.0, which results in no reduction).</p>
</dd>
<dt><code class="ref-definition">retry_cleanup</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Cleanup failed log files after retries (defaults to True).</p>
</dd>
<dt><code class="ref-definition">sandbox</code> <span class="element-type"><span class="element-type-name">SandboxEnvironmentType</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Sandbox environment type (or optionally a str or tuple with a shorthand spec).</p>
</dd>
<dt><code class="ref-definition">sandbox_cleanup</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Cleanup sandbox environments after task completes (defaults to True).</p>
</dd>
<dt><code class="ref-definition">tags</code> <span class="element-type"><span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Tags to associate with this evaluation run.</p>
</dd>
<dt><code class="ref-definition">metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Metadata to associate with this evaluation run.</p>
</dd>
<dt><code class="ref-definition">trace</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Trace message interactions with evaluated model to terminal.</p>
</dd>
<dt><code class="ref-definition">display</code> <span class="element-type"><span class="element-type-name">DisplayType</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Task display type (defaults to ‘full’).</p>
</dd>
<dt><code class="ref-definition">approval</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">ApprovalPolicyConfig</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Tool use approval policies. Either a path to an approval policy config file or a list of approval policies. Defaults to no approval policy.</p>
</dd>
<dt><code class="ref-definition">score</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Score output (defaults to True).</p>
</dd>
<dt><code class="ref-definition">log_level</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Level for logging to the console: “debug”, “http”, “sandbox”, “info”, “warning”, “error”, “critical”, or “notset” (defaults to “warning”).</p>
</dd>
<dt><code class="ref-definition">log_level_transcript</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Level for logging to the log file (defaults to “info”).</p>
</dd>
<dt><code class="ref-definition">log_format</code> <span class="element-type"><span class="element-type-name">Literal</span>['eval', 'json'] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Format for writing log files (defaults to “eval”, the native high-performance format).</p>
</dd>
<dt><code class="ref-definition">limit</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Limit evaluated samples (defaults to all samples).</p>
</dd>
<dt><code class="ref-definition">sample_shuffle</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Shuffle order of samples (pass a seed to make the order deterministic).</p>
</dd>
<dt><code class="ref-definition">fail_on_error</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">float</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p><code>True</code> to fail on first sample error(default); <code>False</code> to never fail on sample errors; Value between 0 and 1 to fail if a proportion of total samples fails. Value greater than 1 to fail eval if a count of samples fails.</p>
</dd>
<dt><code class="ref-definition">continue_on_fail</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p><code>True</code> to continue running and only fail at the end if the <code>fail_on_error</code> condition is met. <code>False</code> to fail eval immediately when the <code>fail_on_error</code> condition is met (default).</p>
</dd>
<dt><code class="ref-definition">retry_on_error</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Number of times to retry samples if they encounter errors (defaults to 3).</p>
</dd>
<dt><code class="ref-definition">debug_errors</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Raise task errors (rather than logging them) so they can be debugged (defaults to False).</p>
</dd>
<dt><code class="ref-definition">max_samples</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Maximum number of samples to run in parallel (default is max_connections).</p>
</dd>
<dt><code class="ref-definition">max_tasks</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Maximum number of tasks to run in parallel (defaults is 10).</p>
</dd>
<dt><code class="ref-definition">max_subprocesses</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Maximum number of subprocesses to run in parallel (default is os.cpu_count()).</p>
</dd>
<dt><code class="ref-definition">max_sandboxes</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Maximum number of sandboxes (per-provider) to run in parallel.</p>
</dd>
<dt><code class="ref-definition">log_samples</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Log detailed samples and scores (defaults to True).</p>
</dd>
<dt><code class="ref-definition">log_realtime</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Log events in realtime (enables live viewing of samples in inspect view) (defaults to True).</p>
</dd>
<dt><code class="ref-definition">log_images</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Log base64 encoded version of images, even if specified as a filename or URL (defaults to False).</p>
</dd>
<dt><code class="ref-definition">log_buffer</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Number of samples to buffer before writing log file. If not specified, an appropriate default for the format and filesystem is chosen (10 for most all cases, 100 for JSON logs on remote filesystems).</p>
</dd>
<dt><code class="ref-definition">log_shared</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Sync sample events to log directory so that users on other systems can see log updates in realtime (defaults to no syncing). Specify <code>True</code> to sync every 10 seconds, otherwise an integer to sync every <code>n</code> seconds.</p>
</dd>
<dt><code class="ref-definition">bundle_dir</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>If specified, the log viewer and logs generated by this eval set will be bundled into this directory. Relative paths will be resolved relative to the config file (when using the CLI) or base_dir arg (when using the API).</p>
</dd>
<dt><code class="ref-definition">bundle_overwrite</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Whether to overwrite files in the bundle_dir. (defaults to False).</p>
</dd>
<dt><code class="ref-definition">log_dir_allow_dirty</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>If True, allow the log directory to contain unrelated logs. If False, ensure that the log directory only contains logs for tasks in this eval set (defaults to False).</p>
</dd>
<dt><code class="ref-definition">eval_set_id</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>ID for the eval set. If not specified, a unique ID will be generated.</p>
</dd>
<dt><code class="ref-definition">bundle_url_mappings</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">str</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Replacements applied to bundle_dir to generate a URL. If provided and bundle_dir is set, the mapped URL will be written to stdout.</p>
</dd>
</dl>
</section>
</section>
<section id="flowscorer" class="level3">
<h3 class="anchored" data-anchor-id="flowscorer">FlowScorer</h3>
<p>Configuration for a Scorer.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L96">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowScorer(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Name of the scorer. Required to be set by the time the scorer is created.</p>
</dd>
<dt><code class="ref-definition">args</code> <span class="element-type"><span class="element-type-name">CreateArgs</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional args to pass to scorer constructor.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the scorer.</p>
</dd>
</dl>
</section>
</section>
<section id="flowsolver" class="level3">
<h3 class="anchored" data-anchor-id="flowsolver">FlowSolver</h3>
<p>Configuration for a Solver.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L115">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowSolver(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Name of the solver. Required to be set by the time the solver is created.</p>
</dd>
<dt><code class="ref-definition">args</code> <span class="element-type"><span class="element-type-name">CreateArgs</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional args to pass to solver constructor.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the solver.</p>
</dd>
</dl>
</section>
</section>
<section id="flowtask" class="level3">
<h3 class="anchored" data-anchor-id="flowtask">FlowTask</h3>
<p>Configuration for an evaluation task.</p>
<p>Tasks are the basis for defining and running evaluations.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/flow_types.py#L179">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FlowTask(BaseModel, extra<span class="op">=</span><span class="st">"forbid"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section class="level4">
<h4 class="anchored" data-anchor-id="">Attributes</h4>
<dl>
<dt><code class="ref-definition">name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Task name. Any of registry name (“inspect_evals/mbpp”), file name (“./my_task.py”), or a file name and attr (“./<a href="mailto:my_task.py@task" class="email">my_task.py@task</a>_name”). Required to be set by the time the task is created.</p>
</dd>
<dt><code class="ref-definition">args</code> <span class="element-type"><span class="element-type-name">CreateArgs</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional args to pass to task constructor</p>
</dd>
<dt><code class="ref-definition">solver</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span>] | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Solver or list of solvers. Defaults to generate(), a normal call to the model.</p>
</dd>
<dt><code class="ref-definition">scorer</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowscorer">FlowScorer</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowscorer">FlowScorer</a></span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Scorer or list of scorers used to evaluate model output.</p>
</dd>
<dt><code class="ref-definition">model</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Default model for task (Optional, defaults to eval model).</p>
</dd>
<dt><code class="ref-definition">config</code> <span class="element-type"><span class="element-type-name">GenerateConfig</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Model generation config for default model (does not apply to model roles). Will override config settings on the FlowSpec. Will be overridden by settings on the FlowModel.</p>
</dd>
<dt><code class="ref-definition">model_roles</code> <span class="element-type"><span class="element-type-name">ModelRolesConfig</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Named roles for use in <code>get_model()</code>.</p>
</dd>
<dt><code class="ref-definition">sandbox</code> <span class="element-type"><span class="element-type-name">SandboxEnvironmentType</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Sandbox environment type (or optionally a str or tuple with a shorthand spec)</p>
</dd>
<dt><code class="ref-definition">approval</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">ApprovalPolicyConfig</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Tool use approval policies. Either a path to an approval policy config file or an approval policy config. Defaults to no approval policy.</p>
</dd>
<dt><code class="ref-definition">epochs</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowepochs">FlowEpochs</a></span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Epochs to repeat samples for and optional score reducer function(s) used to combine sample scores (defaults to “mean”)</p>
</dd>
<dt><code class="ref-definition">fail_on_error</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">float</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p><code>True</code> to fail on first sample error (default); <code>False</code> to never fail on sample errors; Value between 0 and 1 to fail if a proportion of total samples fails. Value greater than 1 to fail eval if a count of samples fails.</p>
</dd>
<dt><code class="ref-definition">continue_on_fail</code> <span class="element-type"><span class="element-type-name">bool</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p><code>True</code> to continue running and only fail at the end if the <code>fail_on_error</code> condition is met. <code>False</code> to fail eval immediately when the <code>fail_on_error</code> condition is met (default).</p>
</dd>
<dt><code class="ref-definition">message_limit</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Limit on total messages used for each sample.</p>
</dd>
<dt><code class="ref-definition">token_limit</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Limit on total tokens used for each sample.</p>
</dd>
<dt><code class="ref-definition">time_limit</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Limit on clock time (in seconds) for samples.</p>
</dd>
<dt><code class="ref-definition">working_limit</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Limit on working time (in seconds) for sample. Working time includes model generation, tool calls, etc. but does not include time spent waiting on retries or shared resources.</p>
</dd>
<dt><code class="ref-definition">version</code> <span class="element-type"><span class="element-type-name">int</span> | <span class="element-type-name">str</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Version of task (to distinguish evolutions of the task spec or breaking changes to it)</p>
</dd>
<dt><code class="ref-definition">metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Additional metadata to associate with the task.</p>
</dd>
<dt><code class="ref-definition">sample_id</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">int</span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name">int</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Evaluate specific sample(s) from the dataset.</p>
</dd>
<dt><code class="ref-definition">flow_metadata</code> <span class="element-type">dict[<span class="element-type-name">str</span>, <span class="element-type-name">Any</span>] | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Optional. Metadata stored in the flow config. Not passed to the task.</p>
</dd>
<dt><code class="ref-definition">model_name</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name">None</span> | <span class="element-type-name">NotGiven</span></span></dt>
<dd>
<p>Get the model name from the model field.</p>
<p>Returns: The model name if set, otherwise None.</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="decorators" class="level2">
<h2 class="anchored" data-anchor-id="decorators">Decorators</h2>
<section id="after_load" class="level3">
<h3 class="anchored" data-anchor-id="after_load">after_load</h3>
<p>Decorator to mark a function to be called after a FlowSpec is loaded.</p>
<p>The decorated function should have the signature (args are all optional and may be omitted): def after_flow_spec_loaded( spec: FlowSpec, files: list[str], ) -&gt; None:</p>
<pre><code>spec: The loaded FlowSpec.
files: List of file paths that were loaded to create the FlowSpec.</code></pre>
<p>…</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/decorator.py#L6">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> after_load(func: Callable) <span class="op">-&gt;</span> Callable</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">func</code> <span class="element-type"><span class="element-type-name">Callable</span></span></dt>
<dd>
<p>The function to decorate.</p>
</dd>
</dl>
</section>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<section id="agents_matrix" class="level3">
<h3 class="anchored" data-anchor-id="agents_matrix">agents_matrix</h3>
<p>Create a list of agents from the product of lists of field values.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L193">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> agents_matrix(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    agent: <span class="bu">str</span> <span class="op">|</span> FlowAgent <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowAgent],</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowAgentMatrixDict],</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowAgent]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">agent</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span>]</span></dt>
<dd>
<p>The agent or list of agents to matrix.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowAgentMatrixDict</span>]</span></dt>
<dd>
<p>The lists of field values to matrix.</p>
</dd>
</dl>
</section>
<section id="agents_with" class="level3">
<h3 class="anchored" data-anchor-id="agents_with">agents_with</h3>
<p>Set fields on a list of agents.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L123">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> agents_with(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    agent: <span class="bu">str</span> <span class="op">|</span> FlowAgent <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowAgent],</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowAgentDict],</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowAgent]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">agent</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowagent">FlowAgent</a></span>]</span></dt>
<dd>
<p>The agent or list of agents to set fields on.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowAgentDict</span>]</span></dt>
<dd>
<p>The fields to set on each agent.</p>
</dd>
</dl>
</section>
<section id="configs_matrix" class="level3">
<h3 class="anchored" data-anchor-id="configs_matrix">configs_matrix</h3>
<p>Create a list of generate configs from the product of lists of field values.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L207">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> configs_matrix(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    config: GenerateConfig <span class="op">|</span> Sequence[GenerateConfig] <span class="op">|</span> <span class="va">None</span> <span class="op">=</span> <span class="va">None</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[GenerateConfigMatrixDict],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[GenerateConfig]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">config</code> <span class="element-type"><span class="element-type-name">GenerateConfig</span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">GenerateConfig</span>] | <span class="element-type-name">None</span></span></dt>
<dd>
<p>The config or list of configs to matrix.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">GenerateConfigMatrixDict</span>]</span></dt>
<dd>
<p>The lists of field values to matrix.</p>
</dd>
</dl>
</section>
<section id="configs_with" class="level3">
<h3 class="anchored" data-anchor-id="configs_with">configs_with</h3>
<p>Set fields on a list of generate configs.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L137">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> configs_with(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    config: GenerateConfig <span class="op">|</span> Sequence[GenerateConfig],</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[GenerateConfigDict],</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[GenerateConfig]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">config</code> <span class="element-type"><span class="element-type-name">GenerateConfig</span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">GenerateConfig</span>]</span></dt>
<dd>
<p>The config or list of configs to set fields on.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">GenerateConfigDict</span>]</span></dt>
<dd>
<p>The fields to set on each config.</p>
</dd>
</dl>
</section>
<section id="merge" class="level3">
<h3 class="anchored" data-anchor-id="merge">merge</h3>
<p>Merge two flow objects.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/merge.py#L52">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merge(base: _T, add: _T) <span class="op">-&gt;</span> _T</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">base</code> <span class="element-type">_T</span></dt>
<dd>
<p>The base object.</p>
</dd>
<dt><code class="ref-definition">add</code> <span class="element-type">_T</span></dt>
<dd>
<p>The object to merge into the base. Values in this object will override those in the base.</p>
</dd>
</dl>
</section>
<section id="models_matrix" class="level3">
<h3 class="anchored" data-anchor-id="models_matrix">models_matrix</h3>
<p>Create a list of models from the product of lists of field values.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L222">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> models_matrix(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    model: <span class="bu">str</span> <span class="op">|</span> FlowModel <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowModel],</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowModelMatrixDict],</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowModel]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">model</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span>]</span></dt>
<dd>
<p>The model or list of models to matrix.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowModelMatrixDict</span>]</span></dt>
<dd>
<p>The lists of field values to matrix.</p>
</dd>
</dl>
</section>
<section id="models_with" class="level3">
<h3 class="anchored" data-anchor-id="models_with">models_with</h3>
<p>Set fields on a list of models.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L151">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> models_with(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    model: <span class="bu">str</span> <span class="op">|</span> FlowModel <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowModel],</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowModelDict],</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowModel]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">model</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowmodel">FlowModel</a></span>]</span></dt>
<dd>
<p>The model or list of models to set fields on.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowModelDict</span>]</span></dt>
<dd>
<p>The fields to set on each model.</p>
</dd>
</dl>
</section>
<section id="solvers_matrix" class="level3">
<h3 class="anchored" data-anchor-id="solvers_matrix">solvers_matrix</h3>
<p>Create a list of solvers from the product of lists of field values.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L236">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> solvers_matrix(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    solver: <span class="bu">str</span> <span class="op">|</span> FlowSolver <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowSolver],</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowSolverMatrixDict],</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowSolver]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">solver</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span>]</span></dt>
<dd>
<p>The solver or list of solvers to matrix.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowSolverMatrixDict</span>]</span></dt>
<dd>
<p>The lists of field values to matrix.</p>
</dd>
</dl>
</section>
<section id="solvers_with" class="level3">
<h3 class="anchored" data-anchor-id="solvers_with">solvers_with</h3>
<p>Set fields on a list of solvers.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L165">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> solvers_with(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    solver: <span class="bu">str</span> <span class="op">|</span> FlowSolver <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowSolver],</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowSolverDict],</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowSolver]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">solver</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowsolver">FlowSolver</a></span>]</span></dt>
<dd>
<p>The solver or list of solvers to set fields on.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowSolverDict</span>]</span></dt>
<dd>
<p>The fields to set on each solver.</p>
</dd>
</dl>
</section>
<section id="tasks_matrix" class="level3">
<h3 class="anchored" data-anchor-id="tasks_matrix">tasks_matrix</h3>
<p>Create a list of tasks from the product of lists of field values.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L250">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tasks_matrix(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    task: <span class="bu">str</span> <span class="op">|</span> FlowTask <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowTask],</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowTaskMatrixDict],</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowTask]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">task</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span>]</span></dt>
<dd>
<p>The task or list of tasks to matrix.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowTaskMatrixDict</span>]</span></dt>
<dd>
<p>The lists of field values to matrix.</p>
</dd>
</dl>
</section>
<section id="tasks_with" class="level3">
<h3 class="anchored" data-anchor-id="tasks_with">tasks_with</h3>
<p>Set fields on a list of tasks.</p>
<div class="source-link">
<a href="https://github.com/meridianlabs-ai/inspect_flow/blob/88381db0c5c436b301ffb03332082bfa2fd41b14/src/inspect_flow/_types/factories.py#L179">Source</a>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode python doc-declaration code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tasks_with(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    task: <span class="bu">str</span> <span class="op">|</span> FlowTask <span class="op">|</span> Sequence[<span class="bu">str</span> <span class="op">|</span> FlowTask],</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>kwargs: Unpack[FlowTaskDict],</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[FlowTask]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<dl>
<dt><code class="ref-definition">task</code> <span class="element-type"><span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span> | <span class="element-type-name">Sequence</span>[<span class="element-type-name">str</span> | <span class="element-type-name"><a href="../reference/inspect_flow.html#flowtask">FlowTask</a></span>]</span></dt>
<dd>
<p>The task or list of tasks to set fields on.</p>
</dd>
<dt><code class="ref-definition">**kwargs</code> <span class="element-type"><span class="element-type-name">Unpack</span>[<span class="element-type-name">FlowTaskDict</span>]</span></dt>
<dd>
<p>The fields to set on each task.</p>
</dd>
</dl>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/meridianlabs-ai\.github\.io\/inspect_flow");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
        for (let i=0; i<annoteTargets.length; i++) {
          const annoteTarget = annoteTargets[i];
          const targetCell = annoteTarget.getAttribute("data-target-cell");
          const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
          const contentFn = () => {
            const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            if (content) {
              const tipContent = content.cloneNode(true);
              tipContent.classList.add("code-annotation-tip-content");
              return tipContent.outerHTML;
            }
          }
          const config = {
            allowHTML: true,
            content: contentFn,
            onShow: (instance) => {
              selectCodeLines(instance.reference);
              instance.reference.classList.add('code-annotation-active');
              window.tippy.hideAll();
            },
            onHide: (instance) => {
              unselectCodeLines();
              instance.reference.classList.remove('code-annotation-active');
            },
            maxWidth: 300,
            delay: [50, 0],
            duration: [200, 0],
            offset: [5, 10],
            arrow: true,
            trigger: 'click',
            appendTo: function(el) {
              return el.parentElement.parentElement.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'quarto',
            placement: 'right',
            positionFixed: true,
            popperOptions: {
              modifiers: [
              {
                name: 'flip',
                options: {
                  flipVariations: false, // true by default
                  allowedAutoPlacements: ['right'],
                  fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                },
              },
              {
                name: 'preventOverflow',
                options: {
                  mainAxis: false,
                  altAxis: false
                }
              }
              ]        
            }      
          };
          window.tippy(annoteTarget, config); 
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../reference/index.html" class="pagination-link" aria-label="Reference">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Reference</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../reference/inspect_flow.html#flowagent" class="pagination-link" aria-label="FlowAgent">
        <span class="nav-page-text">FlowAgent</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/">
<p>Meridian Labs</p>
</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/inspect_flow">
<p>Code</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/inspect_flow/blob/main/LICENSE">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/inspect_flow/issues">
<p>Issues</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/meridianlabs-ai/inspect_flow/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/meridianlabs-ai/inspect_flow">
<p>Code</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>