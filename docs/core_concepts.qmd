---
title: "Core Concepts"
tbl-colwidths: [30,70]
---

## Flow Type System

Inspect Flow mirrors Inspect AI's object model with corresponding Flow types:

-   [**`FlowJob`**](/reference/inspect_flow.html#flowjob) — The top-level job definition. Contains a list of tasks and job settings. Under the hood it translates to an Inspect AI [Eval Set](https://inspect.aisi.org.uk/eval-sets.html).
-   [**`FlowTask`**](/reference/inspect_flow.html#flowtask) — Configuration for a single evaluation task. Maps to Inspect AI [Task](https://inspect.aisi.org.uk/tasks.html) parameters.
-   [**`FlowModel`**](/reference/inspect_flow.html#flowmodel) — Model configuration including API settings and generation settings. Maps to Inspect AI [Model](https://inspect.aisi.org.uk/models.html).
-   [**`FlowSolver`**](/reference/inspect_flow.html#flowsolver) and [**`FlowAgent`**](/reference/inspect_flow.html#flowagent) — Solver and agent chain configuration. Map to Inspect AI [Solver](https://inspect.aisi.org.uk/solvers.html) and [Agent](https://inspect.aisi.org.uk/agents.html).
-   [**`FlowOptions`**](/reference/inspect_flow.html#flowoptions) — Runtime execution options. Maps to Inspect AI [eval_set()](https://inspect.aisi.org.uk/eval-sets.html) parameters.
-   [**`FlowDefaults`**](/reference/inspect_flow.html#flowdefaults) — System for setting default values across tasks, models, solvers, and agents.
-   [**`FlowDependencies`**](/reference/inspect_flow.html#flowdependencies) — Configuration for evaluation dependencies to install.

## Flow Config Structure

`FlowJob` is the primary interface for defining Flow workflows. All Flow operations—including [parameter sweeps and matrix expansions](#parameter-sweeping)—ultimately produce a list of tasks that `FlowJob` executes.

**Required fields:**

- **`log_dir`** — Output path for logging results. Supports S3 paths (e.g., `s3://bucket/path`).

**Optional fields:**

| Field | Description | Default |
|------------------|--------------------------------|----------------------|
| `tasks` | List of tasks to run (`FlowTask` objects or strings) | `None` |
| `includes` | List of other flow configs to include (paths as strings or `FlowInclude` objects). Relative paths resolved relative to config file (CLI) or `base_dir` arg (API). Additionally, any `_flow.py` files in the same directory or parent directories are automatically included | `None` |
| `log_dir_create_unique` | If `True`, append numeric suffix to `log_dir` if it exists. If `False`, use existing directory (must be empty or have `log_dir_allow_dirty=True`) | `False` |
| `python_version` | Python version for the isolated virtual environment (e.g., `"3.11"`) | Same as current environment |
| `dependencies` | `FlowDependencies` object configuring package installation. Controls dependency file detection, additional packages, and auto-detection behavior | Auto-detect from `pyproject.toml`, `requirements.txt`, and config object names |
| `env` | Environment variables to set when running tasks | `None` |
| `options` | Runtime options passed to `eval_set` (see `FlowOptions` reference) | `None` |
| `defaults` | Default values applied across tasks, models, solvers, and agents (see `FlowDefaults` reference) | `None` |
| `flow_metadata` | Metadata stored in the flow config (not passed to Inspect AI) | `None` |